<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Image Uploading</title>
	<style>
		nav{
			margin-top: -10px;
			margin-left: -8px;
			background: linear-gradient( blue,pink);
			width: 100%;
			padding: 10px;
			position: fixed;
			border-bottom: 1px solid rgb(172, 169, 169);
		}
		h1{
			text-align: center;
			
		}
		.uploadimage{
			background: rgb(247, 245, 247);
			padding-top: 100px;
			margin-left: -10px;
			margin-right: -8px;
			padding-left: 20px;
		}
		label{
			font-size: 20px;
		}
		#name{
			padding: 4px 30px;
			font-size: 16px;
			border-radius: 5px;
			margin-left: 55px;
		}
		textarea{
			height: 25px;
			margin-top: 20px;
			padding-right:40px;
			margin-bottom: -10px;
			border-radius: 5px;
			font-size: 18px;
		}
		.imageupload{
			/* margin-left: 30px; */
			margin-bottom: -40px;
		}
		#image{
			margin-left: 30px;
			margin-top: 40px;
			padding: 8px;
			width: 200px;
			background-color: rgb(78, 78, 202);
			border-radius: 6px;
		}
		button{
			margin-top: 50px;
			margin-left: 20px;
			cursor: pointer;
			padding: 10px 40px;
			background-color: rgb(78, 78, 202);
			border: none;
			border-radius: 8px;
			color: white;
			font-size: 16px;
			font-weight: bold;
		}
		button:hover{
			background-color: rgb(77, 77, 252);
		}
		.wrapper{
			margin: 0px -8px;
			padding-bottom: 50px;
			background: linear-gradient(to right,rgb(102, 102, 248), rgb(226, 74, 226),pink);
			display: flex;
			flex-wrap: wrap;
			overflow-x: hidden;
		}
		.mainImage{
			display: flex;
            flex-wrap: wrap;
			
		}
		.image{
			margin-right: -50px;
			width: 350px;
            overflow: hidden;
		}
		.onlyImage{
            width: 290px;
			height: 370px;
		}
		img{
			border: 4px solid white;
			width: 100%;
			height: 100%;
			margin: 5px;
		}
		img:hover{
			cursor: pointer;
		}
		.yourname{
			font-size: 20px;
			margin-top: -40px;
			color: white;
			margin-left: 20px;
		}
		.yourDisc{
			font-size: 15px;
			margin-top: -35px;
			margin-left: 20px;
			color: white;
		}
		.nameDisc{
			background: black;
			margin-left: 13px;
			padding-right: 10px;
			opacity: 0;
			visibility: hidden;
			-webkit-transition: visibility 0s, opacity 0.5s linear; 
            transition: visibility 0s, opacity 0.5s linear;
		}
		.image:hover .nameDisc{
			width: 150px;
			visibility: visible;
			opacity: 0.9;
		}
		@media(max-width:395px){
			.uploadimage{
				width: 100%;
			}
			textarea{
				width: 50px;
				margin-top: 0px;
			}
			.imageupload{
				display: none;
			}
			#image{
				margin-left: -10px;
				width: 150px;
			}
			.wrapper{
				padding-left: 8%;
			}
		}
		@media(max-width:330px){
			#name{
				width: 50px;
			}
			.wrapper{
				padding-left: 10px;
			}
		}
	</style>
</head>

<body>
	<nav>
	  <h1>To Upload Image on mongoDB</h1>
    </nav>
	<div class="uploadimage">
	<form action="/" method="POST" enctype="multipart/form-data">
		<div>
		<label for="name">Image Title : </label>
		<input
			type="text"
			id="name"
			placeholder="Name"
			value=""
			name="name"
			required
		/>
		</div>
		<div>
		<label for="desc">Image Description : </label>
		<textarea
			id="desc"
			name="desc"
			value=""
			rows="2"
			placeholder="Description"
			required
		>
		</textarea>
		</div>
		<div>
		<label class="imageupload" for="image">Upload Image : </label>
		<input type="file" id="image" name="image" value="" required />
		</div>
		<div>
		<button type="submit">Submit</button>
		</div>
	</form>
	</div>

	<hr />

	<h1>Uploaded Images</h1>
	<div class="wrapper">
	<% items.forEach(function(image) { %>
	<div class="mainImage">
		<div class="image">
		  <div class="onlyImage">
		    <img
			    src="data:image/<%=image.img.contentType%>;base64,
					<%=image.img.data.toString('base64')%>"
		    />
		  </div>
		<div class="nameDisc">
			<h5 class="yourname"><%= image.name %></h5>

			<p class="yourDisc"><%= image.desc %></p>
		</div>
		</div>
	</div>
	<% }) %>
	</div>
</body>
</html>
